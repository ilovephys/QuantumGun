{% extends "diaryBase.html" %}
{% load static %}


<!-- head -->
<!--Twitter æ‹¡æ•£é–¢é€£-->
{% block TwitterURL %}
{% endblock %}
{% block TwitterContentsTitle %}
    {{ object1.title }}
{% endblock %}
{% block TwitterDescription %}
    {{ object1.contentDescription }}
{% endblock %}
{% block TwitterImage %}
    {{ object1.eyeCatch.url }}
{% endblock %}

<!-- Googleæ¤œç´¢ã§ãƒ’ãƒƒãƒˆã—ãŸæ™‚ã«å‡ºã‚‹æ–‡æ›¸-->
{% block description %}
    {{ object1.contentDescription }}
{% endblock %}

{% block customCSS %}
    <link href="{% static 'css/diaryDetail.css' %}" type="text/css" rel="stylesheet">
    <link href="{% static 'css/diaryDetailMQ.css' %}" type="text/css" rel="stylesheet">
{% endblock %}


<!--body-->
{% block title %}
    {{ object1.title }}
{% endblock %}

{% block headerPic %}
    {% static 'img/wave.jpg' %}
{% endblock %}

{% block titleContsnts %}
    <div class="pankuzu">
        <ol class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList">
            <i class="fas fa-home"></i>
            <li itemprop="itemListElement" itemscope
                itemtype="https://schema.org/ListItem">
                <a itemprop="item" href="{% url 'Entrance' %}">
                    <span itemprop="name">Home</span>
                </a>
                <meta itemprop="position" content="1" />
            </li>
            <li itemprop="itemListElement" itemscope
                itemtype="https://schema.org/ListItem">
                <a itemprop="item" href="{% url 'blogGenre' object1.category %}">
                    <span itemprop="name">{{ object1.category }}</span>
                </a>
                <meta itemprop="position" content="2" />
            </li>
            <li itemprop="itemListElement" itemscope
                itemtype="https://schema.org/ListItem">
                <a itemprop="item" href="{{ object1.url }}">
                    <span itemprop="name">{{ object1.title }}</span>
                </a>
                <meta itemprop="position" content="3" />
            </li>
        </ol>
    </div>
    <div class="title">
        <h1>{{ object1.title }}</h1>
        <div class="genre">
            <a href="{% url 'blogGenre' object1.category %}">
                <span>{{ object1.category }}</span>
            </a>
        </div>
        <div class="info">
            <div class="date">
                <span>ä½œæˆæ—¥ : {{ object1.postdate }}  </span><br>
                <span>æ›´æ–°æ—¥ : {{ object1.updateDate }}  </span><br>
            </div>
            <div class="pV">
                {{ object1.pageView }}pV
            </div>
        </div>
        <div class="diffusion">
            <div class="Tw">
                <a href="https://twitter.com/intent/tweet?text={{ object1.title }} a">
                    <div class="TwDiff">
                        <i class="fab fa-twitter fa-2x whiteLogo"></i>
                    </div>
                </a>
                <!-- https://qiita.com/bm0521/items/39ae81e2ba01c9d3e0bd --->
            </div>
            <div class="Fcb">
                <div class="FcbDiff">
                    <i class="fab fa-facebook-f fa-2x whiteLogo"></i>
                </div>
            </div>
            <div class="LINE">
                <div class="LINEDiff">
                    <img src="{% static 'img/LINE.png' %}">
                </div>
            </div>
            <div class="HTN">
                <div class="HTNDiff">
                    <img src="{% static 'img/HATEBU.png' %}">
                </div>
            </div>
        </div>
    </div>
{% endblock %}

{% block eyeCatchPic %}
    <img src="{{ object1.eyeCatch.url }}">
{% endblock %}

{% block contentsSection %}
    <!--blogListã¨blogDetail,about, contactã¯contentsSectionã®ä¸­èº«ãŒé•ã£ã¦ãã‚‹ã®ã§åŒºåˆ¥ã—ã¾ã™-->
    <div class="detail">
        {{ object1.introduction | safe }}
        <div id="toc"></div>
        {{ object1.content | safe }}
        {% if object1.link is not Null %}
            <a href="{% url 'detail' object1.link %}" style="text-decoration: none;">
                <div class="linkCard">
                    <div class="linkCardPic">
                        <img src="{{ objectLink0.eyeCatch.url }}" class="linkImage">
                    </div>
                    <div class="linkSentence">
                        <div class="linkTitleSec">
                            <p>{{ objectLink0.title }}</p>
                        </div>
                        <div class="linkDescriptionSec">
                            {{ objectLink0.contentDescription | safe}}
                        </div>
                    </div>
                </div>
            </a>
        {% endif %}
        {{ object1.content2 | safe }}
        {% if object1.link2 is not Null %}
            <a href="{% url 'detail' object1.link2 %}" style="text-decoration: none;">
                <div class="linkCard">
                    <div class="linkCardPic">
                        <img src="{{ objectLink1.eyeCatch.url }}" class="linkImage">
                    </div>
                    <div class="linkSentence">
                        <div class="linkTitleSec">
                            <p>{{ objectLink1.title }}</p>
                        </div>
                        <div class="linkDescriptionSec">
                            {{ objectLink1.contentDescription | safe}}
                        </div>
                    </div>
                </div>
            </a>
        {% endif %}
        {{ object1.content3 | safe }}
        {% if object1.link3 is not Null %}
            <a href="{% url 'detail' object1.link3 %}" style="text-decoration: none;">
                <div class="linkCard">
                    <div class="linkCardPic">
                        <img src="{{ objectLink2.eyeCatch.url }}" class="linkImage">
                    </div>
                    <div class="linkSentence">
                        <div class="linkTitleSec">
                            <p>{{ objectLink2.title }}</p>
                        </div>
                        <div class="linkDescriptionSec">
                            {{ objectLink2.contentDescription | safe}}
                        </div>
                    </div>
                </div>
            </a>
        {% endif %}
        {{ object1.content4 | safe }}
        {% if object1.link4 is not Null %}
            <a href="{% url 'detail' object1.link4 %}" style="text-decoration: none;">
                <div class="linkCard">
                    <div class="linkCardPic">
                        <img src="{{ objectLink3.eyeCatch.url }}" class="linkImage">
                    </div>
                    <div class="linkSentence">
                        <div class="linkTitleSec">
                            <p>{{ objectLink3.title }}</p>
                        </div>
                        <div class="linkDescriptionSec">
                            {{ objectLink3.contentDescription | safe}}
                        </div>
                    </div>
                </div>
            </a>
        {% endif %}
        {{ object1.content5 | safe }}
        {% if object1.link5 is not Null %}
            <a href="{% url 'detail' object1.link5 %}" style="text-decoration: none;">
                <div class="linkCard">
                    <div class="linkCardPic">
                        <img src="{{ objectLink4.eyeCatch.url }}" class="linkImage">
                    </div>
                    <div class="linkSentence">
                        <div class="linkTitleSec">
                            <p>{{ objectLink4.title }}</p>
                        </div>
                        <div class="linkDescriptionSec">
                            {{ objectLink4.contentDescription | safe}}
                        </div>
                    </div>
                </div>
            </a>
        {% endif %}
    </div>
{% endblock %}

{% block reverse %}
    {% url 'blog' %}
{% endblock %}

{% block WhoWriteThisArticle %}
<h2>ã“ã®è¨˜äº‹ã‚’æ›¸ã„ãŸäºº</h2>
<div class="WhoWriteThisArticle">
    <div class="subIslandImg">
        <img src="{% static 'img/purple.jpeg' %}">
    </div>
    <div class="mySNS">
        <div class="SNSLOGO">
            <a href="https://twitter.com/TestTweetBot3" style="text-decoration: none; color:black;">
                <i class="fab fa-twitter-square fa-2x"></i>
            </a>
        </div>

        <div class="SNSLOGO">
            <i class="fab fa-instagram fa-2x"></i>
        </div>

        <div class="SNSLOGO">
            <i class="fab fa-facebook-square fa-2x"></i>
        </div>
    </div>
    <div class="subIslandSentence">
        <p><span>åå‰</span>å¢å’²(ã‚€ã‚‰ã•ã)</p>
        <p><span>è¶£å‘³</span>ã‚µã‚¦ãƒŠ æ¸©æ³‰ ãƒ“ãƒ¼ãƒ«</p>
        <p><span>åº§å³ã®éŠ˜</span>ã€ŒåŒã˜ã‚¢ãƒ›ãªã‚‰ã€è¸Šã‚‰ã«ã‚ƒæã‚½ãƒ³ã€</p>
        <p><span>èˆˆå‘³</span>æ©Ÿæ¢°å­¦ç¿’ ç‰©ç†(å¤©ä½“ç‰©ç†å­¦)</p>
        <p>åˆã‚ã¾ã—ã¦ã€å¢å’²(ã‚€ã‚‰ã•ã)ã¨è¨€ã„ã¾ã™ğŸ˜„ æœªçµŒé¨“ã‹ã‚‰æ–°å’ã§ITä¼æ¥­ã«å†…å®šã‚­ãƒ¡ã€ä»Šã§ã‚‚ç¶™ç¶šçš„ã«å‹‰å¼·ã—ã¦ã„ã‚‹ç¤¾ä¼šäººã§ã™ã€‚</p>
    </div>
</div>
{% endblock %}

{% block RelationalArticle %}
<h2>é–¢é€£è¨˜äº‹</h2>
<p><span>{{ object1.category }}</span>é–¢é€£ã®è¨˜äº‹ã‚’èª­ã‚“ã äººã«ãŠã™ã™ã‚ã®è¨˜äº‹</p>
<div class="RelationArticle">
    {% for relation in objectRelationArticle %}
    <div class="card">
        <a href="{% url 'detail' relation.id %}">
            <div class="cardImage">
                <img src="{{ relation.eyeCatch.url }}" class="imagePC">
            </div>
            <div class="cardSentence">
                <h3>{{ relation.title }}</h3>
            </div>
        </a>
    </div>
    {% endfor %}
</div>
<p><span>äººæ°—ã®è¨˜äº‹</span>QuantumGunã§ ç‰¹ã«èª­ã¾ã‚Œã¦ã„ã‚‹è¨˜äº‹</p>
<div class="RelationArticle">
    {% for relation2 in objectFamousArticle %}
        <div class="card">
            <a href="{% url 'detail' relation2.id %}">
                <div class="cardImage">
                    <img src="/media/{{ relation2.eyeCatch }}" class="imagePC">
                </div>
                <div class="cardSentence">
                    <h3>{{ relation2.title }}</h3>
                </div>
            </a>
        </div>
    {% endfor %}
</div>
{% endblock %}
{% block subFlameIndex %}
    <!-- ã‚ã¨ã§æ›¸ã å¤šåˆ†JavaScriptå‹‰å¼·ã—ã¦ã‹ã‚‰ã‹ãª-->
{% endblock %}

{% block Advertising %}
    <h2>å‘ŠçŸ¥</h2>
    <div class="advertising">
        {{ object1.advertising.advertising | safe }}
    </div>
{% endblock %}

{% block JavaScript %}
<script type="text/javascript">
document.addEventListener('DOMContentLoaded', function () {
    var contentsList = document.getElementById('toc'); // ç›®æ¬¡ã‚’è¿½åŠ ã™ã‚‹å…ˆ(table of contents)
    var div = document.createElement('div'); // ä½œæˆã™ã‚‹ç›®æ¬¡ã®ã‚³ãƒ³ãƒ†ãƒŠè¦ç´ 

    var h2 = document.createElement("h2");
    h2.innerHTML = "Index";
    contentsList.appendChild(h2);

    // .entry-contenté…ä¸‹ã®h2ã€h3è¦ç´ ã‚’å…¨ã¦å–å¾—ã™ã‚‹
    var matches = document.querySelectorAll('.detail h2, .detail h3');
    // å–å¾—ã—ãŸè¦‹å‡ºã—ã‚¿ã‚°è¦ç´ ã®æ•°ã ã‘ä»¥ä¸‹ã®æ“ä½œã‚’ç¹°ã‚Šè¿”ã™
    matches.forEach(function (value, i) {
        // è¦‹å‡ºã—ã‚¿ã‚°è¦ç´ ã®idã‚’å–å¾—ã—ç©ºã®å ´åˆã¯å†…å®¹ã‚’idã«ã™ã‚‹
        var id = value.id;
        if(id === '') {
            id = value.textContent;
            value.id = id;
        }
        // è¦ç´ ãŒh2ã‚¿ã‚°ã®å ´åˆ
        if(value.tagName === 'H2') {
            var ul = document.createElement('ul');
            var li = document.createElement('li');
            var a = document.createElement('a');
            // è¿½åŠ ã™ã‚‹<ul><li><a>ã‚¿ã‚¤ãƒˆãƒ«</a></li></ul>ã‚’æº–å‚™ã™ã‚‹
            a.innerHTML = value.textContent;
            a.href = '#' + value.id;
            li.appendChild(a);
            li.className="h2li";
            ul.appendChild(li);
            ul.className="h2ul";
            // ã‚³ãƒ³ãƒ†ãƒŠè¦ç´ ã§ã‚ã‚‹<div>ã®ä¸­ã«è¦ç´ ã‚’è¿½åŠ ã™ã‚‹
            div.appendChild(ul);
        }
        // è¦ç´ ãŒh3ã‚¿ã‚°ã®å ´åˆ
        if(value.tagName === 'H3') {
            var ul = document.createElement('ul');
            var li = document.createElement('li');
            var a = document.createElement('a');
            // ã‚³ãƒ³ãƒ†ãƒŠè¦ç´ ã§ã‚ã‚‹<div>ã®ä¸­ã‹ã‚‰æœ€å¾Œã®<li>ã‚’å–å¾—ã™ã‚‹ã€‚
            var lastUl = div.lastElementChild;
            var lastLi = lastUl.lastElementChild;
            // è¿½åŠ ã™ã‚‹<ul><li><a>ã‚¿ã‚¤ãƒˆãƒ«</a></li></ul>ã‚’æº–å‚™ã™ã‚‹
            a.innerHTML = value.textContent;
            a.href = '#' + value.id;
            li.appendChild(a);
            li.className="h3li";
            ul.appendChild(li);
            ul.className="h3ul";
            // æœ€å¾Œã®<li>ã®ä¸­ã«è¦ç´ ã‚’è¿½åŠ ã™ã‚‹
            lastLi.appendChild(ul);
        }
    });
// æœ€å¾Œã«ç”»é¢ã«ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°
contentsList.appendChild(div);
});
</script>
{% endblock %}